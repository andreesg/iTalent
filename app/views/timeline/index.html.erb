<div class="row">
  <div class="col-md-offset-3 col-md-6">
  <% if @new_publication.errors.any? %>
    <div class="alert alert-danger" id="error_explanation">
      <h2><%= pluralize(@new_publication.errors.count, "error") %> prohibited
        this publication from being saved:</h2>
      <ul>
        <% @new_publication.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <% if @new_event.errors.any? %>
    <div class="alert alert-danger" id="error_explanation">
      <h2><%= pluralize(@new_event.errors.count, "error") %> prohibited
        this event from being saved:</h2>
      <ul>
        <% @new_event.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  </div>
</div>

<%= render '/publications/new_modal', publication: @new_publication %>
<%= render '/events/new_modal', event: @new_event %>

<div class="row">
  <div class="col-sm-4 col-md-4 col-md-offset-4  timeline">
    <div id="new-publication-btn"><%= image_tag( asset_path("add.png"), alt: "New publication", title: "Create new publication")%>
    </div>
    <br>

    <% @publications.each do |publication| %>
      <%= render partial: 'timeline/publication', locals: { publication: publication } %>
    <% end %>

  </div>

  <div class="col-sm-2 col-md-2 col-md-offset-1 timeline">
  
    <div id="new-event-btn"><%= image_tag( asset_path("add.png"), alt: "New event", title: "Create new event") %></div>
    <br>
    
    <ul class="timeline-section">

      <li class="timeline-title">
        <span class="fa-stack fa-lg hidden-xs">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-users fa-stack-1x fa-inverse"></i>
        </span>
      </li>

      <% @events.each do |event| %>       
        <li>
          <%= render partial: 'timeline/event', locals: { event: event } %>
        </li>
      <% end %>     
    </ul>
  </div>

</div>
